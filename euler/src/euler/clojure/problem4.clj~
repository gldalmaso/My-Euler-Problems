(ns euler.clojure.problem4
  "A palindromic number reads the same both ways. The largest palindrome made from the product of two
2-digit numbers is 9009 = 91 99.

Find the largest palindrome made from the product of two 3-digit numbers.")

(defn palindrome? [number]
  (= (seq (str number)) (reverse (str number))))

(defn n-digit-palindromes [number-of-digits]
  (let [numbers (range (Math/pow 10 (- number-of-digits 1)) (Math/pow 10 number-of-digits))]
       (apply max
              (map (fn [x] (filter palindrome?
                                   (map #(* (long x) (long %))
                                         numbers)))
                   numbers))))
